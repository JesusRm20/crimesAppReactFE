{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Route,Switch,Redirect}from'react-router-dom';import NavBar from'./navbar';import Crime from'./crime/crimesComponent';import Login from'./account/login';import Signup from'./account/signup';import userService from'./account/userService';import crimeServices from'./crime/crimeServices';import LoadCrimes from'./crime/loadCrimes';import CrimeDetails from'./crime/crimeDetailsComponent';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={session:false,token:false};_this.handleSubmitLogin=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var usr,resp,session;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:usr={userName:document.getElementById('userName').value,password:document.getElementById('password').value};_context.next=3;return userService.login(usr);case 3:resp=_context.sent;if(resp){session=true;_this.setState({session:session});}case 5:case\"end\":return _context.stop();}}},_callee);}));_this.handleLogOut=function(){if(!userService.signout()){console.log(false);var session=false;_this.setState({session:session});}};_this.handlesubmitLoad=function(e){e.preventDefault();var date={'date':document.getElementById('date').value};crimeServices.loadCrimes(date);};_this.handlesubmitSignup=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var usr,signUp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();usr={firstName:document.getElementById('firstName').value,lastName:document.getElementById('lastName').value,username:document.getElementById('username').value,email:document.getElementById('email').value,password:document.getElementById('password').value};signUp=userService.signUp(usr);return _context2.abrupt(\"return\",signUp);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var token,session;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=userService.getSession();if(token){session=true;this.setState({session:session});this.setState({token:token});}case 2:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavBar,{session:this.state.session,logOut:this.handleLogOut}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/login\"},this.state.session?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}),/*#__PURE__*/React.createElement(Login,{onSubmit:this.handleSubmitLogin})),/*#__PURE__*/React.createElement(Route,{path:\"/signup\"},this.state.session?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(Redirect,{to:\"/signup\"}),/*#__PURE__*/React.createElement(Signup,{onSubmit:this.handlesubmitSignup})),/*#__PURE__*/React.createElement(Route,{path:\"/loadCrimes\"},/*#__PURE__*/React.createElement(LoadCrimes,{onSubmit:this.handlesubmitLoad})),/*#__PURE__*/React.createElement(Route,{path:\"/crimeDetails/:id\",component:CrimeDetails}),/*#__PURE__*/React.createElement(Route,{path:\"/\"},this.state.session?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}),/*#__PURE__*/React.createElement(Crime,null))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/Jesus Sicairos/Desktop/Projects/CrimesAppReact/firstproject/src/components/app.js"],"names":["React","Component","Route","Switch","Redirect","NavBar","Crime","Login","Signup","userService","crimeServices","LoadCrimes","CrimeDetails","App","state","session","token","handleSubmitLogin","usr","userName","document","getElementById","value","password","login","resp","setState","handleLogOut","signout","console","log","handlesubmitLoad","e","preventDefault","date","loadCrimes","handlesubmitSignup","firstName","lastName","username","email","signUp","getSession"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport NavBar from './navbar';\r\nimport Crime from './crime/crimesComponent';\r\nimport Login from './account/login';\r\nimport Signup from './account/signup';\r\nimport userService from './account/userService';\r\nimport crimeServices from './crime/crimeServices';\r\nimport LoadCrimes from './crime/loadCrimes';\r\nimport CrimeDetails from './crime/crimeDetailsComponent';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        session: false,\r\n        token: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const token = userService.getSession();\r\n        if(token){\r\n            const session = true;\r\n            this.setState({ session })\r\n            this.setState({ token });\r\n        }\r\n    }\r\n\r\n    handleSubmitLogin = async () => {\r\n        const usr = {\r\n            userName: document.getElementById('userName').value,\r\n            password: document.getElementById('password').value\r\n          }\r\n        const resp = await userService.login(usr);\r\n        if(resp){\r\n            const session = true;\r\n            this.setState({session}); \r\n        }\r\n    }\r\n    handleLogOut = () => {\r\n        \r\n        if (!userService.signout()) {\r\n            console.log(false)\r\n            const session = false;\r\n            this.setState({ session });\r\n        }\r\n        \r\n    }\r\n    handlesubmitLoad = e => {\r\n        e.preventDefault();\r\n        const date = { 'date': document.getElementById('date').value};\r\n        crimeServices.loadCrimes(date);\r\n    }\r\n    handlesubmitSignup = async e => {\r\n        e.preventDefault();\r\n        const usr = {\r\n            firstName: document.getElementById('firstName').value,\r\n            lastName: document.getElementById('lastName').value,\r\n            username: document.getElementById('username').value,\r\n            email: document.getElementById('email').value,\r\n            password: document.getElementById('password').value\r\n\r\n        };\r\n\r\n        const signUp = userService.signUp(usr);\r\n        return signUp;\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <React.Fragment>\r\n                <NavBar session= { this.state.session } logOut={this.handleLogOut} />\r\n                <Switch>\r\n                    <Route path=\"/login\">\r\n                        { this.state.session ? <Redirect to='/' /> : <Redirect to='/login' /> }\r\n                        <Login onSubmit={this.handleSubmitLogin} />\r\n                    </Route>\r\n                    <Route path=\"/signup\">\r\n                        { this.state.session ? <Redirect to='/' /> : <Redirect to='/signup' /> }\r\n                        <Signup onSubmit={this.handlesubmitSignup} />\r\n                    </Route>\r\n                    <Route path=\"/loadCrimes\">\r\n                        <LoadCrimes onSubmit={ this.handlesubmitLoad }/>\r\n                    </Route>\r\n                    <Route path='/crimeDetails/:id' component={CrimeDetails } />\r\n                    <Route path=\"/\">\r\n                        { this.state.session ? <Redirect to='/' /> : <Redirect to='/login' /> }\r\n                        <Crime />\r\n                    </Route>\r\n                </Switch>\r\n            </React.Fragment>\r\n         );\r\n    }\r\n}\r\n \r\nexport default App;"]},"metadata":{},"sourceType":"module"}