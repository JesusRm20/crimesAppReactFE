{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\ReactJS\\\\firstproject\\\\src\\\\components\\\\app.js\";\nimport React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport NavBar from './navbar';\nimport Crime from './crime/crimesComponent';\nimport Login from './account/login';\nimport Signup from './account/signup';\nimport userService from './account/userService';\nimport crimeServices from './crime/crimeServices';\nimport LoadCrimes from './crime/loadCrimes';\nimport CrimeDetails from './crime/crimeDetailsComponent';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      crimes: [],\n      elements: [],\n      categories: [],\n      selectedCategory: 'allCategories',\n      itemsCount: 0,\n      pageSize: 5,\n      currentPage: 1,\n      sortColumn: {\n        path: 'id',\n        order: 'asc'\n      },\n      session: false,\n      token: false,\n      crime: []\n    };\n\n    this.handleDeleteMovie = movieId => {\n      const movies = this.state.movies.filter(c => c.movie.id !== movieId);\n      this.setState({\n        movies\n      });\n    };\n\n    this.handleLogOut = () => {\n      if (!userService.signout()) {\n        const session = false;\n        this.setState({\n          session\n        });\n      }\n    };\n\n    this.handlesubmitLoad = e => {\n      e.preventDefault();\n      const date = {\n        'date': document.getElementById('date').value\n      };\n      crimeServices.loadCrimes(date);\n    };\n\n    this.handlesubmitSignup = async e => {\n      e.preventDefault();\n      const usr = {\n        firstName: document.getElementById('firstName').value,\n        lastName: document.getElementById('lastName').value,\n        username: document.getElementById('username').value,\n        email: document.getElementById('email').value,\n        password: document.getElementById('password').value\n      };\n      const signUp = userService.signUp(usr);\n      return signUp;\n    };\n\n    this.handleSubmitLogin = this.handleSubmitLogin.bind(this);\n  }\n\n  async componentDidMount() {\n    const token = userService.getSession();\n\n    if (token) {\n      const session = true;\n      this.setState({\n        session\n      });\n      this.setState({\n        token\n      });\n    }\n  }\n\n  async handleSubmitLogin(e) {\n    e.preventDefault();\n    const usr = {\n      userName: document.getElementById('userName').value,\n      password: document.getElementById('password').value\n    };\n\n    if (userService.login(usr)) {\n      const session = true;\n      this.setState({\n        session\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      session: this.state.session,\n      logOut: this.handleLogOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, this.state.session ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 48\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 70\n      }\n    }), /*#__PURE__*/React.createElement(Login, {\n      onSubmit: this.handleSubmitLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, this.state.session ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 48\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 70\n      }\n    }), /*#__PURE__*/React.createElement(Signup, {\n      onSubmit: this.handlesubmitSignup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/loadCrimes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(LoadCrimes, {\n      onSubmit: this.handlesubmitLoad,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/crimeDetails/:id\",\n      component: CrimeDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, this.state.session ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 48\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 70\n      }\n    }), /*#__PURE__*/React.createElement(Crime // crimes={this.state.crimes}\n    , {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Jesus Sicairos/Desktop/ReactJS/firstproject/src/components/app.js"],"names":["React","Component","Route","Switch","Redirect","NavBar","Crime","Login","Signup","userService","crimeServices","LoadCrimes","CrimeDetails","App","constructor","state","crimes","elements","categories","selectedCategory","itemsCount","pageSize","currentPage","sortColumn","path","order","session","token","crime","handleDeleteMovie","movieId","movies","filter","c","movie","id","setState","handleLogOut","signout","handlesubmitLoad","e","preventDefault","date","document","getElementById","value","loadCrimes","handlesubmitSignup","usr","firstName","lastName","username","email","password","signUp","handleSubmitLogin","bind","componentDidMount","getSession","userName","login","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport NavBar from './navbar';\r\nimport Crime from './crime/crimesComponent';\r\nimport Login from './account/login';\r\nimport Signup from './account/signup';\r\nimport userService from './account/userService';\r\nimport crimeServices from './crime/crimeServices';\r\nimport LoadCrimes from './crime/loadCrimes';\r\nimport CrimeDetails from './crime/crimeDetailsComponent';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        crimes:[],\r\n        elements: [],\r\n        categories: [],\r\n        selectedCategory: 'allCategories',\r\n        itemsCount:0,\r\n        pageSize:5,\r\n        currentPage: 1,\r\n        sortColumn: {path: 'id', order:'asc'},\r\n        session: false,\r\n        token: false,\r\n        crime: []\r\n    }\r\n        constructor(){\r\n        super()\r\n        this.handleSubmitLogin = this.handleSubmitLogin.bind(this);\r\n    }\r\n    async componentDidMount() {\r\n\r\n        const token = userService.getSession();\r\n        if(token){\r\n            const session = true;\r\n            this.setState({ session })\r\n            this.setState({ token });\r\n        }\r\n    }\r\n\r\n    handleDeleteMovie = movieId => {\r\n        const movies = this.state.movies.filter(c => c.movie.id !== movieId);\r\n        this.setState({ movies });\r\n    }\r\n\r\n    async handleSubmitLogin(e) {\r\n        e.preventDefault();\r\n        const usr = {\r\n            userName: document.getElementById('userName').value,\r\n            password: document.getElementById('password').value\r\n          }\r\n        if(userService.login(usr)){\r\n            const session = true;\r\n            this.setState({session}); \r\n        }    \r\n    }\r\n    handleLogOut = () => {\r\n        \r\n        if (!userService.signout()) {\r\n            const session = false;\r\n            this.setState({ session });\r\n        }\r\n        \r\n    }\r\n    handlesubmitLoad = e => {\r\n        e.preventDefault();\r\n        const date = { 'date': document.getElementById('date').value};\r\n        crimeServices.loadCrimes(date);\r\n    }\r\n    handlesubmitSignup = async e => {\r\n        e.preventDefault();\r\n        const usr = {\r\n            firstName: document.getElementById('firstName').value,\r\n            lastName: document.getElementById('lastName').value,\r\n            username: document.getElementById('username').value,\r\n            email: document.getElementById('email').value,\r\n            password: document.getElementById('password').value\r\n\r\n        };\r\n\r\n        const signUp = userService.signUp(usr);\r\n        return signUp;\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <React.Fragment>\r\n                <NavBar session= { this.state.session } logOut={this.handleLogOut} />\r\n                <Switch>\r\n                    <Route path=\"/login\">\r\n                        { this.state.session ? <Redirect to='/' /> : <Redirect to='/login' /> }\r\n                        <Login onSubmit={this.handleSubmitLogin} />\r\n                    </Route>\r\n                    <Route path=\"/signup\">\r\n                        { this.state.session ? <Redirect to='/' /> : <Redirect to='/signup' /> }\r\n                        <Signup onSubmit={this.handlesubmitSignup} />\r\n                    </Route>\r\n                    <Route path=\"/loadCrimes\">\r\n                        <LoadCrimes onSubmit={ this.handlesubmitLoad }/>\r\n                    </Route>\r\n                    <Route path='/crimeDetails/:id' component={CrimeDetails } />\r\n                    <Route path=\"/\">\r\n                        { this.state.session ? <Redirect to='/' /> : <Redirect to='/login' /> }\r\n                        <Crime\r\n                            // crimes={this.state.crimes}\r\n                        />\r\n                    </Route>\r\n                </Switch>\r\n            </React.Fragment>\r\n         );\r\n    }\r\n}\r\n \r\nexport default App;"]},"metadata":{},"sourceType":"module"}