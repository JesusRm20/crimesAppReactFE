{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import config from'../../config.json';import httpServices from'./../httpServices';var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(usr){var _yield$httpServices$p,aut;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return httpServices.post(config.pathLogin,usr);case 2:_yield$httpServices$p=_context.sent;aut=_yield$httpServices$p.data;if(!(aut.val==='true')){_context.next=7;break;}localStorage.setItem('token',aut.token);return _context.abrupt(\"return\",true);case 7:return _context.abrupt(\"return\",false);case 8:case\"end\":return _context.stop();}}},_callee);}));return function login(_x){return _ref.apply(this,arguments);};}();var signout=function signout(){localStorage.removeItem('token');return false;};var getSession=function getSession(){var token=localStorage.getItem('token');if(token){return token;}return false;};var signUp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(usr){var _yield$httpServices$p2,aut;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return httpServices.post(config.pathSignUp,usr);case 2:_yield$httpServices$p2=_context2.sent;aut=_yield$httpServices$p2.data;return _context2.abrupt(\"return\",aut);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function signUp(_x2){return _ref2.apply(this,arguments);};}();export default{login:login,signout:signout,getSession:getSession,signUp:signUp};","map":{"version":3,"sources":["C:/Users/Jesus Sicairos/Desktop/Projects/CrimesAppReact/firstproject/src/components/account/userService.js"],"names":["config","httpServices","login","usr","post","pathLogin","aut","data","val","localStorage","setItem","token","signout","removeItem","getSession","getItem","signUp","pathSignUp"],"mappings":"yYAAA,MAAOA,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,mBAAzB,CAEA,GAAMC,CAAAA,KAAK,0FAAG,iBAAOC,GAAP,sKACeF,CAAAA,YAAY,CAACG,IAAb,CAAkBJ,MAAM,CAACK,SAAzB,CAAmCF,GAAnC,CADf,4CACEG,GADF,uBACHC,IADG,MAEND,GAAG,CAACE,GAAJ,GAAY,MAFN,0BAGNC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6BJ,GAAG,CAACK,KAAjC,EAHM,gCAIC,IAJD,yCAMH,KANG,wDAAH,kBAALT,CAAAA,KAAK,4CAAX,CAUA,GAAMU,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClBH,YAAY,CAACI,UAAb,CAAwB,OAAxB,EACA,MAAO,MAAP,CACH,CAHD,CAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMH,CAAAA,KAAK,CAAGF,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAd,CACA,GAAIJ,KAAJ,CAAU,CACN,MAAOA,CAAAA,KAAP,CACH,CACD,MAAO,MAAP,CACH,CAND,CAQA,GAAMK,CAAAA,MAAM,2FAAG,kBAAMb,GAAN,4KACcF,CAAAA,YAAY,CAACG,IAAb,CAAkBJ,MAAM,CAACiB,UAAzB,CAAoCd,GAApC,CADd,8CACCG,GADD,wBACJC,IADI,kCAEJD,GAFI,0DAAH,kBAANU,CAAAA,MAAM,8CAAZ,CAKA,cAAe,CACXd,KAAK,CAALA,KADW,CAEXU,OAAO,CAAPA,OAFW,CAGXE,UAAU,CAAVA,UAHW,CAIXE,MAAM,CAANA,MAJW,CAAf","sourcesContent":["import config from '../../config.json';\r\nimport httpServices from './../httpServices';\r\n\r\nconst login = async (usr) => {\r\n    const {data:aut} = await httpServices.post(config.pathLogin,usr);\r\n    if (aut.val === 'true') {\r\n        localStorage.setItem('token',aut.token);\r\n        return true;\r\n    }\r\n    return false;\r\n    \r\n}\r\n\r\nconst signout = () => {\r\n    localStorage.removeItem('token');\r\n    return false;\r\n}\r\n\r\nconst getSession = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (token){\r\n        return token\r\n    } \r\n    return false\r\n}\r\n\r\nconst signUp = async usr => {\r\n    const {data:aut} = await httpServices.post(config.pathSignUp,usr);\r\n    return aut\r\n}\r\n\r\nexport default {\r\n    login,\r\n    signout,\r\n    getSession,\r\n    signUp\r\n}"]},"metadata":{},"sourceType":"module"}