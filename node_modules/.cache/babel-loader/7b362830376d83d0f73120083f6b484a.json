{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\Projects\\\\CrimesAppReact\\\\firstproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import CrimeServices from'./crimeServices';var CrimeDetails=/*#__PURE__*/function(_Component){_inherits(CrimeDetails,_Component);var _super=_createSuper(CrimeDetails);function CrimeDetails(){var _this;_classCallCheck(this,CrimeDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={crime:{'id':'','category_id':'','location_type':'','latitude':'','longitude':'','street_name':'','persistent_id':'','month':''},outcomes:[],disabled:true};_this.handleEdit=function(){var disabled=false;_this.setState({disabled:disabled});};_this.handleSave=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var obj,resp,crime,outcomes,disabled;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:obj={'id':document.getElementById('id').value,'category':document.getElementById('category').value,'location_type':document.getElementById('location_type').value,'latitude':document.getElementById('latitude').value,'longitude':document.getElementById('longitude').value,'street_name':document.getElementById('street_name').value,'month':document.getElementById('month').value};_context.next=3;return CrimeServices.updateCrime(obj);case 3:resp=_context.sent;crime=resp.crime;_this.setState({crime:crime});outcomes=resp.outcomes;_this.setState({outcomes:outcomes});disabled=true;_this.setState({disabled:disabled});case 10:case\"end\":return _context.stop();}}},_callee);}));_this.handleCancel=function(){var disabled=true;_this.setState({disabled:disabled});};_this.handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var prevOutcomes,outcomes,crime;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:prevOutcomes=_toConsumableArray(_this.state.outcomes);outcomes=_this.state.outcomes.filter(function(c){return c.id!==id;});_this.setState({outcomes:outcomes});_context2.next=5;return CrimeServices.deleteCrime(id);case 5:crime=_context2.sent;if(!crime){outcomes=prevOutcomes;_this.setState({outcomes:outcomes});}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(CrimeDetails,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var resp,crime,outcomes;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return CrimeServices.crimeDetails(this.props.match.params.id);case 2:resp=_context3.sent;crime=resp.crime;this.setState({crime:crime});outcomes=resp.outcomes;this.setState({outcomes:outcomes});case 7:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,crime=_this$state.crime,outcomes=_this$state.outcomes,dis=_this$state.disabled;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row custom-centered\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col align-self-center\"},/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(\"form\",{className:\"col-md-8 col-sm-9\",id:\"editCrime\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"text-uppercase pull-center\"},\"CRIME DETAILS\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"id\"},\"ID\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"id\",id:\"id\",className:\"form-control input-lg text-center\",defaultValue:crime.id,disabled:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"category\"},\"Category\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"category\",id:\"category\",className:\"form-control input-lg text-center edit\",defaultValue:crime.category_id,disabled:dis}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-12\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"persistent_id\"},\"Persistent ID\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"persistent_id\",id:\"persistent_id\",className:\"form-control input-lg text-center\",defaultValue:crime.persistent_id,disabled:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"location_type\"},\"Location Type\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"location_type\",id:\"location_type\",className:\"form-control input-lg text-center edit\",defaultValue:crime.location_type,disabled:dis})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-8\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"street_name\"},\"Street\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"street_name\",id:\"street_name\",className:\"form-control input-lg text-center edit\",defaultValue:crime.street_name,disabled:dis}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"longitud\"},\"Longitud\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"longitude\",id:\"longitude\",className:\"form-control input-lg text-center edit\",defaultValue:crime.longitude,disabled:dis})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"latitude\"},\"Latitud\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"latitude\",id:\"latitude\",className:\"form-control input-lg text-center edit\",defaultValue:crime.latitude,disabled:dis})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"month\"},\"Month\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"month\",id:\"month\",className:\"form-control input-lg text-center edit\",defaultValue:crime.month,disabled:dis}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row md-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",id:\"cancelEdition\",disabled:dis,onClick:function onClick(){return _this2.handleCancel();}},\" CANCEL\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-md btn-primary\",id:\"saveEdition\",disabled:dis,onClick:function onClick(){return _this2.handleSave();}},\"SAVE\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-md btn-primary\",id:\"editOutcomes\",disabled:!dis,onClick:function onClick(){return _this2.handleEdit();}},\"EDIT\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"row col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col self-align-center\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-uppercase col-md-10\"},\" OUTCOMES\")),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped col-md-12\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"ID\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Category\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Month\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Person ID\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,outcomes.map(function(outcome){return/*#__PURE__*/React.createElement(\"tr\",{key:outcome.id},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},outcome.id),/*#__PURE__*/React.createElement(\"td\",null,outcome.category),/*#__PURE__*/React.createElement(\"td\",null,outcome.date_1),/*#__PURE__*/React.createElement(\"td\",null,outcome.person_id),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{id:\"cancelOutcomes\",className:\"btn btn-md btn-secondary cancel\",onClick:function onClick(){return _this2.handleDelete(outcome.id);},disabled:dis},\"DELETE\")));})))))))))));}}]);return CrimeDetails;}(Component);export default CrimeDetails;","map":{"version":3,"sources":["C:/Users/Jesus Sicairos/Desktop/Projects/CrimesAppReact/firstproject/src/components/crime/crimeDetailsComponent.js"],"names":["React","Component","CrimeServices","CrimeDetails","state","crime","outcomes","disabled","handleEdit","setState","handleSave","obj","document","getElementById","value","updateCrime","resp","handleCancel","handleDelete","id","prevOutcomes","filter","c","deleteCrime","crimeDetails","props","match","params","dis","category_id","persistent_id","location_type","street_name","longitude","latitude","month","map","outcome","category","date_1","person_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport CrimeServices from './crimeServices';\r\n\r\nclass CrimeDetails extends Component {\r\n    state = {\r\n        crime: {\r\n            'id':'',\r\n            'category_id':'',\r\n            'location_type':'',\r\n            'latitude':'',\r\n            'longitude':'',\r\n            'street_name':'',\r\n            'persistent_id':'',\r\n            'month':''\r\n        },\r\n        outcomes: [],\r\n        disabled:true\r\n    }\r\n\r\n    async componentDidMount(){\r\n        const resp = await CrimeServices.crimeDetails(this.props.match.params.id);\r\n        const crime = resp.crime;\r\n        this.setState({ crime });\r\n        const outcomes = resp.outcomes;\r\n        this.setState({ outcomes });\r\n    }\r\n    handleEdit = () => {\r\n        const disabled = false;\r\n        this.setState({ disabled });\r\n          \r\n    }\r\n    handleSave = async () => {\r\n\r\n        const obj = {\r\n            'id':document.getElementById('id').value,\r\n            'category':document.getElementById('category').value,\r\n            'location_type':document.getElementById('location_type').value,\r\n            'latitude':document.getElementById('latitude').value,\r\n            'longitude':document.getElementById('longitude').value,\r\n            'street_name':document.getElementById('street_name').value,\r\n            'month':document.getElementById('month').value\r\n        }\r\n        \r\n        const resp = await CrimeServices.updateCrime(obj);\r\n        const crime = resp.crime;\r\n        this.setState({ crime });\r\n        const outcomes = resp.outcomes;\r\n        this.setState({ outcomes });\r\n        const disabled = true;\r\n        this.setState({ disabled });\r\n        \r\n    }\r\n    handleCancel = () => {\r\n        const disabled = true;\r\n        this.setState({ disabled });\r\n          \r\n    }\r\n    handleDelete = async id => {\r\n        const prevOutcomes = [...this.state.outcomes];\r\n        let outcomes = this.state.outcomes.filter(c => c.id !== id);\r\n        this.setState({ outcomes });\r\n        const crime = await CrimeServices.deleteCrime(id);\r\n        if (!crime) {\r\n            outcomes = prevOutcomes;\r\n            this.setState({outcomes});\r\n        } \r\n    }\r\n    render() { \r\n        const { crime, outcomes, disabled:dis } = this.state;\r\n        return ( \r\n            <React.Fragment>\r\n            <div>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row custom-centered\">\r\n                        <div className=\"col align-self-center\">\r\n                            <center>\r\n                                <fieldset>\t                                    \r\n                                    <form className=\"col-md-8 col-sm-9\" id=\"editCrime\">\t\t\t\t\t\t\t\r\n                                        <h3 className=\"text-uppercase pull-center\">CRIME DETAILS</h3>\t\r\n                                            <div className=\"row\">\r\n                                                <div className=\"form-group col-md-6\">\r\n                                                    <label htmlFor=\"id\">ID</label>\r\n                                                    <input type=\"text\" name=\"id\" id=\"id\" className=\"form-control input-lg text-center\" defaultValue={crime.id} disabled />\r\n                                                </div>\r\n                                                <div className=\"form-group col-md-6\">\r\n                                                    <label htmlFor=\"category\">Category</label>\r\n                                                    <input type=\"text\" name=\"category\" id=\"category\" className=\"form-control input-lg text-center edit\" defaultValue={crime.category_id} disabled={dis} />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"form-group col-md-12\">\r\n                                                    <label htmlFor=\"persistent_id\">Persistent ID</label>\r\n                                                    <input type=\"text\" name=\"persistent_id\" id=\"persistent_id\" className=\"form-control input-lg text-center\" defaultValue={crime.persistent_id} disabled /> \r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"form-group col-md-4\">\r\n                                                    <label htmlFor=\"location_type\">Location Type</label>\r\n                                                    <input type=\"text\" name=\"location_type\" id=\"location_type\" className=\"form-control input-lg text-center edit\" defaultValue={crime.location_type} disabled={dis} />\r\n                                                </div>\r\n                                                <div className=\"form-group col-md-8\">\r\n                                                    <label htmlFor=\"street_name\">Street</label>\r\n                                                    <input type=\"text\" name=\"street_name\" id=\"street_name\" className=\"form-control input-lg text-center edit\" defaultValue={crime.street_name} disabled={dis} />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"form-group col-md-4\">\r\n                                                    <label htmlFor=\"longitud\">Longitud</label>\r\n                                                    <input type=\"text\" name=\"longitude\" id=\"longitude\" className=\"form-control input-lg text-center edit\" defaultValue={crime.longitude} disabled={dis} />\r\n                                                </div>\r\n                                                <div className=\"form-group col-md-4\">\r\n                                                    <label htmlFor=\"latitude\">Latitud</label>\r\n                                                    <input type=\"text\" name=\"latitude\" id=\"latitude\" className=\"form-control input-lg text-center edit\" defaultValue={crime.latitude} disabled={dis} />\r\n                                                </div>\r\n                                                <div className=\"form-group col-md-4\">\r\n                                                    <label htmlFor=\"month\">Month</label>\r\n                                                    <input type=\"text\" name=\"month\" id=\"month\" className=\"form-control input-lg text-center edit\" defaultValue={crime.month} disabled={dis} />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row md-3\">                                                \r\n                                                <div className=\"col\">\r\n                                                    <button type=\"button\" className=\"btn btn-secondary\" id=\"cancelEdition\" disabled={dis} onClick={() => this.handleCancel()}> CANCEL</button>\r\n                                                </div>\r\n                                                <div className=\"col\">\r\n                                                    <button type=\"button\" className=\"btn btn-md btn-primary\" id=\"saveEdition\" disabled={dis} onClick={() => this.handleSave()} >SAVE</button>\r\n                                                </div> \r\n                                                <div className=\"col\">\r\n                                                    <button type=\"button\" className=\"btn btn-md btn-primary\" id=\"editOutcomes\" disabled={!dis} onClick={() => this.handleEdit()} >EDIT</button>\r\n                                                </div>\r\n                                                \r\n                                            </div>\r\n                                    </form>\r\n                                    <div className=\"row col-md-8\">\r\n                                        <div className='col self-align-center'>\r\n                                            <h4 className=\"text-uppercase col-md-10\" > OUTCOMES</h4>\r\n                                        </div>\r\n                                        \r\n                                        <table className=\"table table-striped col-md-12\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th scope=\"col\">ID</th>\r\n                                                    <th scope=\"col\">Category</th>\r\n                                                    <th scope=\"col\">Month</th>\r\n                                                    <th scope=\"col\">Person ID</th>\r\n                                                    <th scope=\"col\"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                            {   outcomes.map(outcome => (\r\n                                                    <tr key={outcome.id}>\r\n                                                        <th scope=\"row\">{outcome.id}</th>\r\n                                                        <td>{outcome.category}</td>\r\n                                                        <td>{outcome.date_1}</td>\r\n                                                        <td>{outcome.person_id}</td>\r\n                                                        <td><button id=\"cancelOutcomes\" className=\"btn btn-md btn-secondary cancel\" onClick={() => this.handleDelete(outcome.id)} disabled={dis}>DELETE</button></td>  \r\n                                                    </tr>\r\n                                                    )\r\n                                                )}\r\n\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </fieldset>\r\n                            </center>\r\n                        </div>                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </React.Fragment>\r\n         );\r\n    }\r\n}\r\n \r\nexport default CrimeDetails;"]},"metadata":{},"sourceType":"module"}