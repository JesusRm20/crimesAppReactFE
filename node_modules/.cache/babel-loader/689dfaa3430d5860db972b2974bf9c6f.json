{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jesus Sicairos\\\\Desktop\\\\ReactJS\\\\firstproject\\\\src\\\\components\\\\app.js\";\nimport React, { Component, useState } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { AppContext } from \"./libs/contextLib\";\nimport NavBar from './navbar';\nimport CrimeComponent from './crime/crimeComponent';\nimport Login from './account/login';\nimport Signup from './account/signup';\nimport userService from './account/userService';\nimport axios from 'axios';\nimport _ from 'lodash';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      post: [],\n      elements: [],\n      categories: [],\n      selectedCategory: 'allCategories',\n      itemsCount: 0,\n      pageSize: 5,\n      currentPage: 1,\n      sortColumn: {\n        path: 'id',\n        order: 'asc'\n      },\n      session: false\n    };\n\n    this.handleReset = () => {\n      const counters = this.state.counters.map(c => {\n        c.value = 0;\n        return c;\n      });\n      this.setState({\n        counters\n      });\n    };\n\n    this.handleIncrement = counterId => {\n      const counters = this.state.counters.map(c => {\n        if (c.id === counterId) {\n          c.value = c.value + 1;\n        }\n\n        return c;\n      });\n      this.setState({\n        counters\n      });\n    };\n\n    this.handleDecrement = counterId => {\n      const counters = this.state.counters.map(c => {\n        if (c.id === counterId) {\n          c.value = c.value - 1;\n        }\n\n        return c;\n      });\n      this.setState(counters);\n    };\n\n    this.handleDelete = counterId => {\n      const counters = this.state.counters.filter(c => c.id !== counterId);\n      this.setState({\n        counters\n      });\n    };\n\n    this.handleDeleteMovie = movieId => {\n      const movies = this.state.movies.filter(c => c.movie.id !== movieId);\n      this.setState({\n        movies\n      });\n    };\n\n    this.handleLike = movieId => {\n      let id = movieId;\n      const movies = this.state.movies.filter(c => {\n        if (c.movie.id === id) {\n          c.movie.liked = !c.movie.liked;\n        }\n\n        return c;\n      });\n      this.setState({\n        movies\n      });\n    };\n\n    this.handlePageChange = page => {\n      this.setState({\n        currentPage: page\n      });\n    };\n\n    this.handleSort = path => {\n      const sortColumn = { ...this.state.sortColumn\n      };\n\n      if (sortColumn.path === path) {\n        sortColumn.order = sortColumn.order === 'asc' ? 'desc' : 'asc';\n      } else {\n        sortColumn.path = path;\n        sortColumn.order = 'asc';\n      }\n\n      this.setState({\n        sortColumn\n      });\n    };\n\n    this.handleLogOut = () => {\n      const session = userService.signout();\n      console.log(session);\n    };\n\n    this.handlesubmitSignup = async e => {\n      e.preventDefault();\n      const usr = {\n        firstName: document.getElementById('firstName').value,\n        lastName: document.getElementById('lastName').value,\n        username: document.getElementById('username').value,\n        email: document.getElementById('email').value,\n        password: document.getElementById('password').value\n      };\n      const {\n        data: aut\n      } = await axios.post('http://localhost/signup', usr);\n    };\n\n    this.selectedCategoryChange = category => {\n      const selectedCategory = category;\n      this.setState({\n        selectedCategory\n      });\n      const currentPage = 1;\n      this.setState({\n        currentPage\n      });\n    };\n\n    this.handleSubmitLogin = this.handleSubmitLogin.bind(this);\n  }\n\n  async componentDidMount() {\n    const {\n      data: post\n    } = await axios.get('http://localhost/home');\n    this.setState({\n      post\n    });\n    const cat = [];\n    this.state.post.map(c => {\n      cat.push(c.category_id);\n    });\n\n    const categories = _.uniq(cat);\n\n    this.setState({\n      categories\n    });\n    const elements = this.state.selectedCategory === 'allCategories' ? this.state.post : null;\n    this.setState({\n      elements\n    });\n    const itemsCount = this.state.elements.length;\n    this.setState({\n      itemsCount\n    });\n  } // componentDidUpdate(){\n  //     console.log(this.state);\n  // }\n\n\n  async handleSubmitLogin(e) {\n    e.preventDefault();\n    const usr = {\n      userName: document.getElementById('userName').value,\n      password: document.getElementById('password').value\n    };\n    const session = userService.login(usr);\n    this.setState({\n      session\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, console.log(this.state.session), /*#__PURE__*/React.createElement(NavBar, {\n      session: this.state.session,\n      logOut: this.handleLogOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }), this.state.session ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 40\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 62\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      onSubmit: this.handleSubmitLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Signup, {\n      onSubmit: this.handlesubmitSignup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CrimeComponent, {\n      out: this.state.elements,\n      onLike: this.handleLike,\n      onDelete: this.handleDeleteMovie,\n      onPageChange: this.handlePageChange,\n      itemsCount: this.state.itemsCount,\n      pageSize: this.state.pageSize,\n      currentPage: this.state.currentPage,\n      allCategories: this.state.categories,\n      selectedCategory: this.state.selectedCategory,\n      onCategoryChange: this.selectedCategoryChange,\n      sortColumn: this.state.sortColumn,\n      onSort: this.handleSort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Jesus Sicairos/Desktop/ReactJS/firstproject/src/components/app.js"],"names":["React","Component","useState","Route","Switch","Redirect","AppContext","NavBar","CrimeComponent","Login","Signup","userService","axios","_","App","constructor","state","post","elements","categories","selectedCategory","itemsCount","pageSize","currentPage","sortColumn","path","order","session","handleReset","counters","map","c","value","setState","handleIncrement","counterId","id","handleDecrement","handleDelete","filter","handleDeleteMovie","movieId","movies","movie","handleLike","liked","handlePageChange","page","handleSort","handleLogOut","signout","console","log","handlesubmitSignup","e","preventDefault","usr","firstName","document","getElementById","lastName","username","email","password","data","aut","selectedCategoryChange","category","handleSubmitLogin","bind","componentDidMount","get","cat","push","category_id","uniq","length","userName","login","render"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { AppContext } from \"./libs/contextLib\";\r\nimport NavBar from './navbar';\r\nimport CrimeComponent from './crime/crimeComponent';\r\nimport Login from './account/login';\r\nimport Signup from './account/signup';\r\nimport userService from './account/userService';\r\nimport axios from 'axios';\r\nimport _ from 'lodash';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        post:[],\r\n        elements: [],\r\n        categories: [],\r\n        selectedCategory: 'allCategories',\r\n        itemsCount:0,\r\n        pageSize:5,\r\n        currentPage: 1,\r\n        sortColumn: {path: 'id', order:'asc'},\r\n        session: false\r\n    }\r\n    constructor(){\r\n        super()\r\n        this.handleSubmitLogin = this.handleSubmitLogin.bind(this);\r\n    }\r\n    async componentDidMount() {\r\n        const {data:post} = await axios.get('http://localhost/home');\r\n        this.setState({post});\r\n\r\n        const cat = [];\r\n        \r\n        this.state.post.map(c => {\r\n              cat.push(c.category_id)\r\n        });\r\n        const categories = _.uniq(cat);\r\n        this.setState({ categories });\r\n\r\n        const elements = this.state.selectedCategory === 'allCategories' ?  this.state.post: null;\r\n        this.setState({ elements })\r\n\r\n        const itemsCount = this.state.elements.length;\r\n        this.setState({itemsCount})\r\n\r\n    }\r\n    // componentDidUpdate(){\r\n    //     console.log(this.state);\r\n    // }\r\n\r\n    handleReset = () => {\r\n         const counters = this.state.counters.map(\r\n             c => {\r\n                 c.value = 0;\r\n                 return c\r\n             }\r\n         )\r\n         this.setState({ counters })\r\n         \r\n     }\r\n    handleIncrement = counterId =>{\r\n        const counters = this.state.counters.map(\r\n                c => {\r\n                    if ( c.id === counterId){\r\n                        c.value = c.value + 1;\r\n                    }                    \r\n                    return c\r\n                }\r\n            );\r\n\r\n        this.setState({ counters })\r\n\r\n    }\r\n    handleDecrement = counterId => {\r\n        const counters = this.state.counters.map(\r\n            c => {\r\n                if(c.id === counterId){\r\n                    c.value = c.value - 1;\r\n                }\r\n                return c\r\n            }\r\n        );\r\n        this.setState(counters);\r\n    }\r\n    handleDelete = counterId => {\r\n        const counters = this.state.counters.filter(c => c.id !== counterId)\r\n        this.setState({ counters })\r\n    }\r\n    handleDeleteMovie = movieId => {\r\n        const movies = this.state.movies.filter(c => c.movie.id !== movieId);\r\n        this.setState({ movies });\r\n    }\r\n    handleLike = movieId => {\r\n        let id = movieId;\r\n        const movies = this.state.movies.filter(c =>{\r\n            if(c.movie.id === id){\r\n                c.movie.liked = !c.movie.liked;\r\n            }\r\n            return c\r\n        })\r\n        this.setState({ movies })\r\n    }\r\n    handlePageChange = page => {\r\n        this.setState({ currentPage:page })\r\n    }\r\n    handleSort = path => {\r\n        const sortColumn = { ...this.state.sortColumn }\r\n        if (sortColumn.path === path){\r\n            sortColumn.order = (sortColumn.order === 'asc') ? 'desc' : 'asc';\r\n        } else{\r\n            sortColumn.path = path;\r\n            sortColumn.order = 'asc';\r\n        }\r\n        this.setState({sortColumn});\r\n    }\r\n    async handleSubmitLogin(e) {\r\n        e.preventDefault();\r\n        const usr = {\r\n            userName: document.getElementById('userName').value,\r\n            password: document.getElementById('password').value\r\n          }\r\n        const session = userService.login(usr);\r\n        this.setState({session}); \r\n    }\r\n    handleLogOut = () => {\r\n        const session = userService.signout();\r\n        console.log(session);\r\n        \r\n    }\r\n    handlesubmitSignup = async e => {\r\n        e.preventDefault();\r\n        const usr = {\r\n            firstName: document.getElementById('firstName').value,\r\n            lastName: document.getElementById('lastName').value,\r\n            username: document.getElementById('username').value,\r\n            email: document.getElementById('email').value,\r\n            password: document.getElementById('password').value\r\n\r\n        };\r\n\r\n        const {data:aut} = await axios.post('http://localhost/signup',usr);\r\n    }\r\n    selectedCategoryChange = category  => {\r\n        const selectedCategory = category;\r\n        this.setState({ selectedCategory });\r\n\r\n        const currentPage = 1;\r\n        this.setState({ currentPage });\r\n\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <React.Fragment>\r\n                {console.log(this.state.session)}\r\n                <NavBar session= { this.state.session } logOut={this.handleLogOut} />\r\n                { this.state.session ? <Redirect to='/' /> : <Redirect to='/login' /> }\r\n                <Switch>\r\n                    <Route path=\"/login\">\r\n                        <Login onSubmit={this.handleSubmitLogin} />\r\n                    </Route>\r\n                    <Route path=\"/signup\">\r\n                        <Signup onSubmit={this.handlesubmitSignup} />\r\n                    </Route>\r\n                    <Route path=\"/\">\r\n                        <CrimeComponent \r\n                            out={this.state.elements} \r\n                            onLike={this.handleLike} \r\n                            onDelete={this.handleDeleteMovie} \r\n                            onPageChange={this.handlePageChange} \r\n                            itemsCount={this.state.itemsCount}\r\n                            pageSize={this.state.pageSize}\r\n                            currentPage={this.state.currentPage}\r\n                            allCategories={this.state.categories}\r\n                            selectedCategory={this.state.selectedCategory}\r\n                            onCategoryChange={this.selectedCategoryChange}\r\n                            sortColumn={this.state.sortColumn}\r\n                            onSort={this.handleSort}\r\n                        />\r\n                    </Route>\r\n                </Switch>\r\n            </React.Fragment>\r\n         );\r\n    }\r\n}\r\n \r\nexport default App;"]},"metadata":{},"sourceType":"module"}